# Technical Roadmap
This document presents the technical roadmap of the Purplecoin project. Please note that these are subject to change before the release. The roadmap branches off a higher level with sub-sections describing a greater level of detail.

## Purplecoin Core

* [ ] Consensus layer
  - [x] Implement sector blocks
  - [x] Implement shard blocks
  - [x] Implement RSA accumulators
  - [x] Optimise hashing to primes
  - [x] Use multiple accumulators per block
  - [x] Benchmark accumulator code in order to determine optimum number of sectors and shards
  - [x] Implement difficulty calculation
  - [x] Green PoW implementation
  - [x] Sequence PoW algorithms
  - [ ] Choose minimum mainnet difficulty
  - [x] Determine ASIC friendly hash functions
  - [ ] Aggregate outputs with same spend script and receiver in the same block
  - [ ] Implement canonical transaction ordering
  - [ ] Implement partially spendable outputs
  - [x] Block serialization
  - [x] Transaction serialization
  - [x] Script arguments serialization
  - [ ] Headers MMR implementation
  - [ ] Implement optimal atomic asset exchange script and use it as a default script
  * [ ] Implement VM opcodes
    - [ ] OP `0x00` Func - Start a function definition
    - [ ] OP `0x07` ChainId - Pushes the current `chain_id` onto the stack
    - [ ] OP `0x08` ChainHeight - Pushes the current `chain_height` onto the stack
    - [ ] OP `0x09` ChainTimestamp - Pushes the current timestamp of the chain onto the stack as a `Signed64`
    - [ ] OP `0x0a` IsCoinbase - Pushes `1` as an `Signed8` onto the stack if the current input is a coinbase otherwise pushes `0`
    - [ ] OP `0x0b` PrevBlockHash - Pushes the previous block hash onto the stack as a `Hash256`
    - [ ] OP `0x0c` NSequence - Pushes the transaction `nsequence` onto the stack as an `Signed32`
    - [ ] OP `0x0d` RandomHash160Var - Pushes a random `Hash160` onto the stack
    - [ ] OP `0x0e` RandomHash256Var - Pushes a random `Hash256` onto the stack
    - [ ] OP `0x0f` RandomHash512Var - Pushes a random `Hash512` onto the stack
    - [ ] OP `0x10` RandomUnsigned8Var - Pushes a random `Unsigned8`onto the stack
    - [ ] OP `0x11` RandomUnsigned16Var - Pushes a random `Unsigned16`onto the stack
    - [ ] OP `0x12` RandomUnsigned32Var - Pushes a random `Unsigned32`onto the stack
    - [ ] OP `0x13` RandomUnsigned64Var - Pushes a random `Unsigned64`onto the stack
    - [ ] OP `0x14` RandomUnsigned128Var - Pushes a random `Unsigned128`onto the stack
    - [ ] OP `0x15` RandomSigned8Var - Pushes a random `Signed8`onto the stack
    - [ ] OP `0x16` RandomSigned16Var - Pushes a random `Signed16`onto the stack
    - [ ] OP `0x17` RandomSigned32Var - Pushes a random `Signed32`onto the stack
    - [ ] OP `0x18` RandomSigned64Var - Pushes a random `Signed64`onto the stack
    - [ ] OP `0x19` RandomSigned128Var - Pushes a random `Signed128`onto the stack
    - [ ] OP `0x1a` RandomFloat32Var - Pushes a random `Float32`onto the stack
    - [ ] OP `0x1b` RandomFloat64Var - Pushes a random `Float64`onto the stack
    - [ ] OP `0x20` Hash160Var - Starts an inline `Hash160` declaration
    - [ ] OP `0x21` Hash256Var - Starts an inline `Hash256` declaration
    - [ ] OP `0x22` Hash512Var - Starts an inline `Hash512` declaration
    - [ ] OP `0x23` Unsigned8Var - Starts an inline `Unsigned8` declaration
    - [ ] OP `0x24` Unsigned16Var - Starts an inline `Unsigned16` declaration
    - [ ] OP `0x25` Unsigned32Var - Starts an inline `Unsigned32` declaration
    - [ ] OP `0x26` Unsigned64Var - Starts an inline `Unsigned64` declaration
    - [ ] OP `0x27` Unsigned128Var - Starts an inline `Unsigned128` declaration
    - [ ] OP `0x28` UnsignedBigVar - Starts an inline `UnsignedBig` declaration
    - [ ] OP `0x29` Signed8Var - Starts an inline `Signed8` declaration
    - [ ] OP `0x2a` Signed16Var - Starts an inline `Signed16` declaration
    - [ ] OP `0x2b` Signed32Var - Starts an inline `Signed32` declaration
    - [ ] OP `0x2c` Signed64Var - Starts an inline `Signed64` declaration
    - [ ] OP `0x2d` Signed128Var - Starts an inline `Signed128` declaration
    - [ ] OP `0x2e` SignedBigVar - Starts an inline `SignedBig` declaration
    - [ ] OP `0x2f` Float32Var - Starts an inline `Float32` declaration
    - [ ] OP `0x30` Float64Var - Starts an inline `Float64` declaration
    - [ ] OP `0x31` Hash160ArrayVar - Starts an inline `Hash160Array` declaration
    - [ ] OP `0x32` Hash256ArrayVar - Starts an inline `Hash256Array` declaration
    - [ ] OP `0x33` Hash512ArrayVar - Starts an inline `Hash512Array` declaration
    - [ ] OP `0x34` Unsigned8ArrayVar - Starts an inline `Unsigned8Array` declaration
    - [ ] OP `0x35` Unsigned16ArrayVar - Starts an inline `Unsigned16Array` declaration
    - [ ] OP `0x36` Unsigned32ArrayVar - Starts an inline `Unsigned32Array` declaration
    - [ ] OP `0x37` Unsigned64ArrayVar - Starts an inline `Unsigned64` declaration
    - [ ] OP `0x38` Unsigned128ArrayVar - Starts an inline `Unsigned128Array` declaration
    - [ ] OP `0x39` UnsignedBigArrayVar - Starts an inline `UnsignedBigArray` declaration
    - [ ] OP `0x3a` Signed8ArrayVar - Starts an inline `Signed8Array` declaration
    - [ ] OP `0x3b` Signed16ArrayVar - Starts an inline `Signed16Array` declaration
    - [ ] OP `0x3c` Signed32ArrayVar - Starts an inline `Signed32Array` declaration
    - [ ] OP `0x3d` Signed64ArrayVar - Starts an inline `Signed64Array` declaration
    - [ ] OP `0x3e` Signed128ArrayVar - Starts an inline `Signed128Array` declaration
    - [ ] OP `0x3f` SignedBigArrayVar - Starts an inline `SignedBigArray` declaration
    - [ ] OP `0x40` Float32ArrayVar - Starts an inline `Float32Array` declaration
    - [ ] OP `0x41` Float64ArrayVar - Starts an inline `Float64Array` declaration
    - [ ] OP `0x4a` ArrayLen - Pushes on top of the stack the len of the array currently on top of the stack
    - [ ] OP `0x4b` GetType - Pushes on top of the stack the type code of the value currently on top of the stack as a `Unsigned8`
    - [ ] OP `0x4c` IsNaN - Pushes `1` on top of the stack if the top item on the stack is NaN
    - [ ] OP `0x4d` IsInf - Pushes `1` on top of the stack if the top item on the stack is Inf
    - [ ] OP `0x4e` IsMinusInf - Pushes `1` on top of the stack if the top item on the stack is MinusInf
    - [ ] OP `0x4f` ClearStack - Clears the stack
    - [ ] OP `0x50` Add - Pops the two topmost items on the stack, performs addition and pushes the result on the stack
    - [ ] OP `0x51` Sub - Pops the two topmost items on the stack, performs subtraction and pushes the result on the stack
    - [ ] OP `0x52` Mult - Pops the two topmost items on the stack, performs multiplication and pushes the result on the stack
    - [ ] OP `0x53` Div - Pops the two topmost items on the stack, performs division and pushes the result on the stack
    - [ ] TODO add all opcodes
* [ ] Network layer
  - [ ] Sector networking
    - [x] Seed nodes DNS resolution
    - [ ] Header synchronization
    - [ ] Peer discovery via Kademlia DHT
  	- [ ] Implement base header propagation
    - [ ] Implement graphene propagation
  - [ ] Public Bridge DHT
    - [ ] Query outputs via Kademlia
    - [ ] Query headers via Kademlia
  - [ ] Private Bridge protocol
    - [ ] Query private bridges
    - [ ] Import private bridges from certificates  
  - [ ] Cluster mode
    - [ ] Clustered block validation consensus
      - [ ] AP mode
      - [ ] CP mode
      - [ ] Hybrid CP mode in the same datacenter but AP across datacenters
    - [ ] Shard distribution on a hash ring
    - [ ] Shard re-distribution on the hash ring when adding/removing nodes
    - [ ] Shard simple replication
    - [ ] Shard datacenter replication
    - [ ] UTXO/Witness set simple replication
    - [ ] UTXO/Witness set datacenter replication
    - [ ] Wallet simple replication
    - [ ] Wallet datacenter replication
  - [ ] Asset Exchange
    - [ ] Quote mempool
    - [ ] Asset exchange peer discovery via Kademlia DHT
* [ ] Node
  - [ ] RPC
    - [x] RPC over HTTP/JSON
    - [ ] RPC over WS/JSON
    - [ ] RPC over WS/Binary
    - [ ] RPC over TCP/JSON
    - [ ] RPC over TCP/Binary
    - [ ] RPC Commands
      - [ ] TODO Add all RPC commands
  - [ ] Mempool
    - [x] Base Implenentation
    - [ ] Sharded mempool
* [ ] Wallet
  - [x] Hierarchical Deterministic Wallet
  - [ ] Multi-Sig Hierarchical Deterministic Wallet
  - [ ] Backup wallet
  - [ ] Backup wallet to AWS S3
  - [ ] Backup wallet to Google Cloud Storage
  - [ ] Restore wallet from file
  - [ ] Restore wallet from AWS S3
  - [ ] Restore wallet from Google Cloud Storage
* [ ] GUI
  - [x] Render XPU balances
  - [ ] Render XPU transaction history
  - [ ] Render alternative asset balances
  - [ ] Render alternative asset transaction histories
  - [ ] Render wallet addresses
  - [ ] Create new wallet address
    - [ ] Render address as QR Code
  - [ ] Send interface
    - [ ] Send via QR Code
  - [ ] Receive interface
    - [ ] Receive via QR Code
  - [ ] Multi-Sig interface
  - [ ] Asset exchange interface
    - [ ] Price chart
    - [ ] Trading interface
    - [ ] Market orders
    - [ ] Limit orders
